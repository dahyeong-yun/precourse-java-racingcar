## 2022-04-21 thu
### 오전에는 
- 어제 거의 마무리 해둔 것을 정리했다. 
  - lap을 돌았다는 결과를 테스트하는 것이 좀 까다로웠던 것 같다.
    - 그냥 쉽게 생각해서 돈 횟수가 존재함을 테스트 하면 어떨까 생각했는데 mockito가 없지 않나 하는 생각이었다. 전에 미션에서 랜덤 결과를 mocking하고 있었던 것이 기억나 어떤 식으로 했는지 찾아봤는데 왠걸 mockito가 존재 했다.
    - 그래서 아예 정해진 lap 횟수 안에 정해진 결과를 리턴 하는지를 테스트 하도록 만들었다.
    - 다만 이 테스트가 포괄하고 있는 범위가 거의 전체인 것처럼 보인다. lab을 도는 지 여부, 입력값에 따라 car가 전진을 하느냐 안하느냐 여부, 우승자를 찾아내느냐 여부 까지를 다 포함하고 있다.
    - 나중에 테스트를 위해 풀어둔 접근 제한을 다 제거하면 통합테스트 형태로 이 테스트를 남기면 될 것도 같다.

- 남은 할 일은
  - 출력에서 우승자가 콤마로 구분되어 표현하는 로직을 만들어야 한다.
  - 기본적인 검증을 추가한다. 보통은 입력 값에 대한 타입체크가 되겠다.
  - 게임 출력에 관한 것들이 좀 많다.
    - 게임에 들어는 메뉴 등이 꽤 많다.
      - `경주할 자동차 이름을 입력하세.(이름 n`
      - `시도할 횟수는 몇회인가요?\n`
      - ``
      - ``
    - lap 마다 결과를 출력한다.

### 점심에
- 잠깐 짬이 나서, 일단 테스트가 통과하는 코드 까지는 만들었다.
- 이제 일급 컬렉션과 원시값 포장, 게임 진행용 별도 클래스 분리 작업을 하려고 한다.


## 2022-04-22 fri
- 오늘은 레이싱 게임의 진행을 별로 클래스에서 진행하도록 변경했다.
- 일급 컬렉션 사용과 원시값 포장을 해야하는데, 이것을 하는 것이 데이터에 대한 유효성 처리 등의 로직이 분리되는 효과를 가져오게 되는 것 같다.


## 2022-04-23 sat
- 계속해서 일급 컬렉션, 원시값 포장을 고민하고 있다.
  - 이 부분을 하려고 보니 생각보다 많은 도메인 객체의 종류가 사용되는 것 같다.
    - 원래는 이름이 멤버 변수에 불과 했는데 벌써 이름 자체, 이름의 집합 개념을 가지고 두 개의 도메인 객체가 만들어졌다.
    - 이렇게 되면 멤버 변수마다 도메인 객체가 1~2개씩 더 생기게 된다. 
  - 결과적으로 클래스 분리가 디테일 해지면서, 각 클래스가 본인의 역할에만 집중하게 할 수 있게 된다. 그러나 초기에 이 도메인에 대해 더 고민해야하는 시간이 길어지는 것은 있다. 초반에 많은 시간을 설계하느냐, 후반에 많은 시간을 고치는데 쓰느냐의 선택인 것 같다.


## 2022-04-24 sun
- 일급 컬렉션과 원시값 포장 자체는 오늘 마무리가 될 것 같다. 계속 하다보니 어느 정도 유사한 형태가 나온다. 값에 대한 체크를 일급 컬렉션과 원시값 포장 객체에서 처리하고, 나머지는 도메인 로직을 갖는 구조다. 예외처리는 해당 객체들을 생성하는 시점에 넣을 수 있다.
  - 그러나 그 자체보다 중요한 것은 해당 작업을 통해 책임과 역할을 올바로 나누었는지 평가하는 것이다. 
    - 이 부분을 평가하는 것은 고민이 좀 필요하다.
    - 개인적으로 시도해 본 것은 
      - 접근 제한이 알맞게 이루어졌는지?
      - 말로 해보기 -> 차량 리스트(List<Car>)를 알려주는 클래스는 레이싱(Racing)일까 차량들(Cars)일까? 얼른 생각해 봐도 차량이다. 이 관련 메서드가 레이싱에 있다면 옮겨야 할 것이다.

- 어느새 2주간의 마무리가 되어간다. 이번 주는 여러므로 저번 주보다 바쁘게 흘러간 탓에 더 마음이 급했다. 내일 까지 소감을 작성할 텐데 대충의 내용은 이럴 것 같다.
  - 일단 TDD에 대해 시도해보고 있다. 좋은 것 같은데, 잘하기 위한 시간은 더 많이 필요할 것 같다. 다만 시도 자체는 누구나 할 수 있는 정도 인 것 같다.
    - TDD를 의식적으로 하지 않으면 계속해서 기능을 먼저 개발하고 테스트를 추가하게 된다. 처음 테스트 클래스를 만드는 것이 프로그래밍 적으로 어떤 제약이 걸리지 않기 때문에 잠깐 정신을 놓으면 테스트 없이 기능부터 만들고 있다.
    - TDD로 만들었을 때 테스트 커버리지를 별도로 신경쓸 필요가 없다.
    - 테스트에 대한 리팩토링도 상당히 공수가 들어가는 일이다.
  - 도메인 객체를 나누게 되면서 애플리케이션에 흐름 안에서 정보의 유효성이 항상 유지된다는 것이 꽤 큰 안점감을 주는 것 같다.
    - DTO에 모든 필드를 때려박아 개발하는 경우에 해당 필드가 특정 레이어에서 필요한지 필요하지 않은지 전혀 알 길이 없다.

## 저녁
- 마무리가 얼추 되었다. 이제 미션 내용을 다시 읽어보며 요구사항을 다시 점검하려고 한다.